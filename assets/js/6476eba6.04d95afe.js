"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[722],{6187:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"usage","title":"Usage","description":"Creating a Zone","source":"@site/docs/usage.md","sourceDirName":".","slug":"/usage","permalink":"/QuickBounds/docs/usage","draft":false,"unlisted":false,"editUrl":"https://github.com/unityjaeger/QuickBounds/edit/main/docs/usage.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"defaultSidebar","previous":{"title":"Intro","permalink":"/QuickBounds/docs/intro"}}');var o=a(4848),r=a(8453);const s={sidebar_position:2},i="Usage",l={},c=[{value:"Creating a Zone",id:"creating-a-zone",level:2},{value:"Zone Methods",id:"zone-methods",level:2},{value:"Managing Objects",id:"managing-objects",level:2},{value:"Detecting Zone Entry/Exit",id:"detecting-zone-entryexit",level:2},{value:"Fetching Things Manually",id:"fetching-things-manually",level:2},{value:"Frame Budget",id:"frame-budget",level:2},{value:"Additional Information",id:"additional-information",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"usage",children:"Usage"})}),"\n",(0,o.jsx)(n.h2,{id:"creating-a-zone",children:"Creating a Zone"}),"\n",(0,o.jsx)(n.p,{children:"Zones can be created in two ways, either using addFromInstance or just add, addFromInstance gets the shape of the Instance passed to the function and calls add behind the scenes."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'local boxZone = QuickBounds.add(CFrame.new(0, 10, 0), Vector3.new(10, 10, 10), "Box")\r\n\r\nlocal sphereZone = QuickBounds.addFromInstance(workspace.SphereZone)\n'})}),"\n",(0,o.jsx)(n.h2,{id:"zone-methods",children:"Zone Methods"}),"\n",(0,o.jsx)(n.p,{children:"You can remove the zone with by calling remove on it:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:"local zone = QuickBounds.addFromInstance(workspace.Example)\r\nzone:remove()\n"})}),"\n",(0,o.jsx)(n.p,{children:"To make zones track a group, you can call watchGroups, and to make the zone stop watching a group you can call unwatchGroups, both take tuples as arguments."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'local zone = QuickBounds.addFromInstance(workspace.Example)\r\nzone:watchGroups("Players", "Example")\r\nzone:unwatchGroups("Example2")\n'})}),"\n",(0,o.jsx)(n.h2,{id:"managing-objects",children:"Managing Objects"}),"\n",(0,o.jsx)(n.p,{children:"Objects can be added with assignToGroup."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'QuickBounds.assignToGroup("Example", workspace.Part)\n'})}),"\n",(0,o.jsx)(n.p,{children:"The objects added this way automatically get cleaned up when the object is destroyed, however you can still manually remove an object from a group."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'QuickBounds.removeFromGroup("Example", workspace.Part)\n'})}),"\n",(0,o.jsx)(n.p,{children:"Objects can also be part of multiple groups, which just requires additional calls to the assignToGroup function. assignToGroup also has an optional third parameter that lets you define a custom value to return alongside the part in the callback function for onEntered and onExited. This is mainly so that associating data with parts is easier without having to maintain custom data structures. The custom data is specific to the group that the part was added to, so if you want it to have the same data for every group you would need to call the function with your custom data each time."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'QuickBounds.assignToGroup("Example", workspace.Part, "Value") --the second parameter in the callback function will now be "Value" for this part\n'})}),"\n",(0,o.jsx)(n.h2,{id:"detecting-zone-entryexit",children:"Detecting Zone Entry/Exit"}),"\n",(0,o.jsx)(n.p,{children:"onEntered and onExited allow you to define any number of callbacks to listen to objects moving in or out of a zone."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'QuickBounds.onEntered("Example", function(part, zone, customData)\r\n    print(part, "entered zone, with data", customData) --if we take the object defined above, this will print "Part entered zone, with data Value"\r\n    local zonePart = zone.Part --if the zone was made with addFromInstance, then the Part field exists\r\n    print(zonePart)\r\nend)\r\n\r\nQuickBounds.onExited("Example", function(part, customData)\r\n    print(part, "exited zone")\r\nend)\n'})}),"\n",(0,o.jsx)(n.h2,{id:"fetching-things-manually",children:"Fetching Things Manually"}),"\n",(0,o.jsx)(n.p,{children:"You can get all parts that a group contains like so:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'for _, rootPart in QuickBounds.getPartsForGroup("Players") do\r\n    --access the custom data associated with the rootpart, which is the Player object\r\n    local player = QuickBounds.getCustomPartData(player, "Players")\r\n    print(player)\r\nend\n'})}),"\n",(0,o.jsx)(n.p,{children:"You can also get all groups that a part is inside of with getGroupsForPart"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:"for _, group in QuickBounds.getGroupsForPart(workspace.Example) do\r\n    --...\r\nend\n"})}),"\n",(0,o.jsx)(n.p,{children:"If you just want to check if a part is inside of a single zone, you can use isPartInGroup, as it is more performant"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'local character = player.Character\r\n--we use the humanoidrootpart, since that is the part that actually gets associated with the Players group\r\nlocal isInside = QuickBounds.isPartInGroup(character.HumanoidRootPart, "Players")\n'})}),"\n",(0,o.jsx)(n.p,{children:"To get all zone objects that are part of a group, you can use getAllZonesForGroup, however, this returns the internal structure of the zone used by the BVH."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'local zone = QuickBounds.addFromInstance(workspace.Example)\r\nzone:watchGroups("Players") \r\nfor _, boundingVolume in QuickBounds.getAllZonesForGroup("Players") do\r\n    print(boundingVolume.CFrame) --will print the CFrame of workspace.Example, check the BoundingVolume type in the API reference for more info on what zoneData holds\r\n    print(boundingVolume.Part) --since we used addFromInstance, we can access the Part field\r\nend\n'})}),"\n",(0,o.jsx)(n.h2,{id:"frame-budget",children:"Frame Budget"}),"\n",(0,o.jsxs)(n.p,{children:["You can define the maximum frame time that the module will use up per frame to process zones. The time is passed in milliseconds and the default time is 0.2 milliseconds. This frame budget ",(0,o.jsx)(n.strong,{children:"ONLY"})," cares about the checking of which zone a part is in, and does not include the time your callbacks take to run. As such, it is recommended to keep it at a low number, like the default 0.2 milliseconds."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:"QuickBounds.setFrameBudgetMs(1) --1 millisecond\n"})}),"\n",(0,o.jsx)(n.h2,{id:"additional-information",children:"Additional Information"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Only having one Zone per tag is completely fine."}),"\n",(0,o.jsx)(n.li,{children:"This module can handle querying a lot of zones, but it is always a trade off if you want optimal performance, either a lot of objects or a lot of zones."}),"\n",(0,o.jsx)(n.li,{children:'There is a predefined "Players" group that gets handled by the module.'}),"\n",(0,o.jsx)(n.li,{children:"Parts only get their center checked against the zones for optimization."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>i});var t=a(6540);const o={},r=t.createContext(o);function s(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);